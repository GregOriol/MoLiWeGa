function fullscreenAvailable(e){return!!e.requestFullscreen||(!!e.mozRequestFullScreen||(!!e.webkitRequestFullScreen||!!e.msRequestFullscreen))}function fullscreenRequest(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function fullscreenExit(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}$(function(){$(window);var n=$("body"),e=$(".grid .item");n.hasClass("table")&&e.each(function(e,n){var a=$(n),s=a.find("img").attr("src");a.find(".content").css("background-image",'url("'+s+'")')}),$.vegas.isVideoCompatible=function(){return!0};var o=[];e.each(function(e,n){var a=$(n),s={$item:a},i=a.find("a"),t=i.attr("href");/\.(?:mp4|mov)$/i.test(t)?(s.src=i.data("alt"),s.video={src:[t],loop:!1,mute:!1}):s.src=t,o.push(s)}),n.append('<div id="vegas-container"></div>'),$vegasContainer=$("#vegas-container"),$vegasContainer.append('<span id="vegas-close" class="vegas-control icon-cancel"></span>'),$vegasContainer.append('<span id="vegas-prev" class="vegas-control icon-left-open-big"></span>'),$vegasContainer.append('<span id="vegas-next" class="vegas-control icon-right-open-big"></span>'),$vegasContainer.append('<span id="vegas-playpause" class="vegas-control icon-play"></span>'),fullscreenAvailable($vegasContainer.get(0))&&$vegasContainer.append('<span id="vegas-fullscreen" class="vegas-control icon-resize-full"></span>'),$vegasContainer.find("#vegas-close").on("click",function(e){e.preventDefault(),$vegasContainer.vegas("pause"),$vegasContainer.vegas("destroy"),$vegasContainer.removeClass("active"),n.removeClass("fixed"),window.history.replaceState({},"",location.pathname),$(document).off("keyup",a)}),$vegasContainer.find("#vegas-next").on("click",function(e){e.preventDefault(),$vegasContainer.vegas("pause"),$vegasContainer.vegas("next")}),$vegasContainer.find("#vegas-prev").on("click",function(e){e.preventDefault(),$vegasContainer.vegas("pause"),$vegasContainer.vegas("previous")}),$vegasContainer.find("#vegas-playpause").on("click",function(e){e.preventDefault(),$(this).hasClass("icon-pause")?$vegasContainer.vegas("pause"):$vegasContainer.vegas("play")}),$vegasContainer.find("#vegas-fullscreen").on("click",function(e){e.preventDefault();var n=$(this);n.hasClass("icon-resize-full")?(fullscreenRequest($vegasContainer.get(0)),n.removeClass("icon-resize-full"),n.addClass("icon-resize-small")):(fullscreenExit(),n.removeClass("icon-resize-small"),n.addClass("icon-resize-full"))});var a=function(e){e.preventDefault(),37==e.which?$("#vegas-prev").trigger("click"):39==e.which?$("#vegas-next").trigger("click"):13==e.which||32==e.which?$("#vegas-playpause").trigger("click"):27==e.which&&$("#vegas-close").trigger("click")};function s(e){n.addClass("fixed"),$vegasContainer.addClass("active"),$(document).on("keyup",a),index=!1===e?0:e,window.history.pushState({},"Image "+(index+1),"#"+(index+1)),$vegasContainer.vegas({slides:o,cover:!1,delay:4500,transitionDuration:2500,transition:["fade2"],firstTransitionDuration:250,timer:!1,autoplay:!1===e,slide:!1===e?0:e,play:function(e,n){$vegasContainer.find("#vegas-playpause").removeClass("icon-play").addClass("icon-pause")},pause:function(e,n){$vegasContainer.find("#vegas-playpause").removeClass("icon-pause").addClass("icon-play")},walk:function(e,n){window.history.replaceState({},"Image "+(e+1),"#"+(e+1)),"function"==typeof onSlideshowWalk&&onSlideshowWalk(e+1,o[e])}}),setTimeout(function(){$vegasContainer.css("height","auto")},1)}new Hammer($vegasContainer.get(0)).on("swipe",function(e){e.direction===Hammer.DIRECTION_LEFT?$("#vegas-next").trigger("click"):e.direction===Hammer.DIRECTION_RIGHT&&$("#vegas-prev").trigger("click")}),$(".button.slideshow").on("click",function(e){e.preventDefault(),s(!1)}),e.on("click",function(e){e.preventDefault(),s($(this).index())}),window.onpopstate=function(e){var n=window.location.hash.substr(1);0<n.length?s(n-1):$("#vegas-close").trigger("click")},window.onpopstate()});
//# sourceMappingURL=main.js.map
